#include<iostream>
#include<string>
#include"stock00.h"

using namespace std;

void Stock::acquire(const std::string &com, long n, double value)
{
	company = com;
	shares = n;
	share_val = value;
	set_tot();
}

void Stock::buy(long n, double value)
{
	if (n < 0) {
		cout << "Number of shares can not be negative; "
			<< company << " shares set to 0.\n";
	}
	else
		shares += n;
	share_val = value;
	set_tot();
}

void Stock::sell(long n, double value)
{
	if (n < 0) {
		cout << "Number of shares can not be negative; "
			<< "Transaction is aborted.\n";
	}
	else if (n > shares)
	{
		cout << "You can not sell more than you have. "
			<< "Transaction is aborted.\n";
	}
	else {
		shares -= n;
		share_val = value;
		set_tot();
	}
}

void Stock::update(double price)
{
	share_val = price;
	set_tot();
}

void Stock::show()
{
	cout << "Company: " << company 
		<< "  Share: " << shares << endl;
	cout << "  Share Price: $" << share_val 
		<< "  Total Worth: $" << total_val << endl;
}
